// Â© 2024 Oskar Arnudd

#ifndef MEMORYMAP_H
#define MEMORYMAP_H

#include <stdint.h>
#include <stdbool.h>

#define M32(ADDR)   *(volatile uint32_t *)(uintptr_t)(ADDR)
#define M16(ADDR)   *(volatile uint16_t *)(uintptr_t)(ADDR)
#define M8(ADDR)    *(volatile uint8_t*)(uintptr_t)(ADDR)

#define PERIPHERALS_BASE    (0x40000000)
#define APB_BASE_OFFSET     (0x0)
#define APB_BASE            (PERIPHERALS_BASE + APB_BASE_OFFSET)
#define AHB_BASE_OFFSET     (0x20000)
#define AHB_BASE            (PERIPHERALS_BASE + AHB_BASE_OFFSET)
#define IOPORT_BASE_OFFSET  (0x10000000)
#define IOPORT_BASE         (PERIPHERALS_BASE + IOPORT_BASE_OFFSET)

#define BIT0  (1U << 0)
#define BIT1  (1U << 1)
#define BIT2  (1U << 2)
#define BIT3  (1U << 3)
#define BIT4  (1U << 4)
#define BIT5  (1U << 5)
#define BIT6  (1U << 6)
#define BIT7  (1U << 7)
#define BIT8  (1U << 8)
#define BIT9  (1U << 9)
#define BIT10 (1U << 10)
#define BIT11 (1U << 11)
#define BIT12 (1U << 12)
#define BIT13 (1U << 13)
#define BIT14 (1U << 14)
#define BIT15 (1U << 15)
#define BIT16 (1U << 16)
#define BIT17 (1U << 17)
#define BIT18 (1U << 18)
#define BIT19 (1U << 19)
#define BIT20 (1U << 20)
#define BIT21 (1U << 21)
#define BIT22 (1U << 22)
#define BIT23 (1U << 23)
#define BIT24 (1U << 24)
#define BIT25 (1U << 25)
#define BIT26 (1U << 26)
#define BIT27 (1U << 27)
#define BIT28 (1U << 28)
#define BIT29 (1U << 29)
#define BIT30 (1U << 30)
#define BIT31 (1U << 31)

#define PIN0  (1U << 0)
#define PIN1  (1U << 1)
#define PIN2  (1U << 2)
#define PIN3  (1U << 3)
#define PIN4  (1U << 4)
#define PIN5  (1U << 5)
#define PIN6  (1U << 6)
#define PIN7  (1U << 7)
#define PIN8  (1U << 8)
#define PIN9  (1U << 9)
#define PIN10 (1U << 10)
#define PIN11 (1U << 11)
#define PIN12 (1U << 12)
#define PIN13 (1U << 13)
#define PIN14 (1U << 14)
#define PIN15 (1U << 15)
#define PIN16 (1U << 16)
#define PIN17 (1U << 17)
#define PIN18 (1U << 18)
#define PIN19 (1U << 19)
#define PIN20 (1U << 20)
#define PIN21 (1U << 21)
#define PIN22 (1U << 22)
#define PIN23 (1U << 23)
#define PIN24 (1U << 24)
#define PIN25 (1U << 25)
#define PIN26 (1U << 26)
#define PIN27 (1U << 27)
#define PIN28 (1U << 28)
#define PIN29 (1U << 29)
#define PIN30 (1U << 30)
#define PIN31 (1U << 31)

bool memorymap_is_valid_address(uint32_t address);

#endif
